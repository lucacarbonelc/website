{"version":3,"file":"2562.818eb090c00db0af727b.js","mappings":"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","sources":["webpack://ESMira/./src/frontend/ts/helpers/SharedUrlAlternatives.ts","webpack://ESMira/./src/frontend/ts/pages/studyEdit.tsx","webpack://ESMira/./src/frontend/ts/widgets/DashElement.tsx","webpack://ESMira/./src/frontend/ts/widgets/DashRow.tsx","webpack://ESMira/./src/frontend/ts/widgets/NotCompatibleIcon.tsx","webpack://ESMira/./src/frontend/ts/widgets/ObservableLangChooser.tsx","webpack://ESMira/./src/frontend/langCodes/ lazy ^\\.\\/.*\\.json$ namespace object"],"sourcesContent":["import {SectionAlternative, SectionContent} from \"../site/SectionContent\";\nimport {Lang} from \"../singletons/Lang\";\n\nexport class SharedUrlAlternatives {\n\tpublic static studyAlternatives(sectionContent: SectionContent, indexName: \"edit\" | \"msgs\" | \"data\"): SectionAlternative[] {\n\t\tconst study = sectionContent.getStudyOrThrow()\n\t\tconst studyId = study.id.get()\n\t\tconst depth = sectionContent.section.depth - 1\n\t\treturn [\n\t\t\t{\n\t\t\t\ttitle: Lang.get(\"edit_study\"),\n\t\t\t\ttarget: indexName != \"edit\" &&\n\t\t\t\t\tsectionContent\n\t\t\t\t\t\t.getUrl(`studyEdit,id:${studyId}`, depth)\n\t\t\t\t\t\t.replace(`allStudies:${indexName}`, \"allStudies:edit\")\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: Lang.get(\"messages\"),\n\t\t\t\ttarget: indexName != \"msgs\" &&\n\t\t\t\t\tsectionContent\n\t\t\t\t\t\t.getUrl(`messagesOverview,id:${studyId}`, depth)\n\t\t\t\t\t\t.replace(`allStudies:${indexName}`, \"allStudies:msgs\")\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: Lang.get(\"data\"),\n\t\t\t\ttarget: indexName != \"data\" &&\n\t\t\t\t\tsectionContent\n\t\t\t\t\t\t.getUrl(`dataStatistics,id:${studyId}`, depth)\n\t\t\t\t\t\t.replace(`allStudies:${indexName}`, \"allStudies:data\")\n\t\t\t}\n\t\t]\n\t}\n}","import {SectionAlternative, SectionContent} from \"../site/SectionContent\";\nimport m, {Vnode} from \"mithril\";\nimport {DashRow} from \"../widgets/DashRow\";\nimport {DashElement} from \"../widgets/DashElement\";\nimport {Lang} from \"../singletons/Lang\";\nimport studyDescSvg from \"../../imgs/dashIcons/studyDesc.svg?raw\"\nimport addSvg from \"../../imgs/icons/add.svg?raw\"\nimport editSvg from \"../../imgs/icons/change.svg?raw\"\nimport alarmsSvg from \"../../imgs/dashIcons/alarms.svg?raw\"\nimport calendarSvg from \"../../imgs/icons/calendar.svg?raw\"\nimport chartsSvg from \"../../imgs/dashIcons/charts.svg?raw\"\nimport sumScoresSvg from \"../../imgs/dashIcons/sumScores.svg?raw\"\nimport langSvg from \"../../imgs/dashIcons/lang.svg?raw\"\nimport publishSvg from \"../../imgs/dashIcons/publish.svg?raw\"\nimport rewardsSvg from \"../../imgs/dashIcons/rewards.svg?raw\"\nimport settingsSvg from \"../../imgs/dashIcons/settings.svg?raw\"\nimport {Study} from \"../data/study/Study\";\nimport {ObservableLangChooser} from \"../widgets/ObservableLangChooser\";\nimport {ObserverId} from \"../observable/BaseObservable\";\nimport {Section} from \"../site/Section\";\nimport {AddDropdownMenus} from \"../helpers/AddDropdownMenus\";\nimport {SharedUrlAlternatives} from \"../helpers/SharedUrlAlternatives\";\n\nexport class Content extends SectionContent {\n\tprivate readonly studyObserverId: ObserverId\n\tprivate readonly addDropdownMenus = new AddDropdownMenus(this)\n\t\n\tpublic static preLoad(section: Section): Promise<any>[] {\n\t\treturn [\n\t\t\tsection.getStudyPromise()\n\t\t]\n\t}\n\t\n\tconstructor(section: Section, study: Study) {\n\t\tsuper(section)\n\t\tthis.updateSaveState()\n\t\t\n\t\tthis.studyObserverId = study.addObserver(this.updateSaveState.bind(this))\n\t\tthis.section.siteData.dynamicCallbacks.save = async () => {\n\t\t\tawait this.section.allSections[this.section.allSections.length-1].loader.showLoader(\n\t\t\t\tthis.section.siteData.studyLoader.saveStudy(this.getStudyOrThrow())\n\t\t\t)\n\t\t}\n\t\tthis.section.siteData.dynamicCallbacks.publish = async () => {\n\t\t\tawait this.section.allSections[this.section.allSections.length-1].loader.showLoader(\n\t\t\t\tthis.section.siteData.studyLoader.publishStudy(this.getStudyOrThrow())\n\t\t\t)\n\t\t}\n\t}\n\t\n\tpublic title(): string {\n\t\treturn Lang.get(\"edit_study\")\n\t}\n\tpublic titleExtra(): Vnode<any, any> | null {\n\t\tconst study = this.getStudyOrThrow()\n\t\tif(study.langCodes.get().length > 1)\n\t\t\treturn ObservableLangChooser(study)\n\t\telse return null\n\t}\n\t\n\tpublic hasAlternatives(): boolean {\n\t\treturn true\n\t}\n\tpublic getAlternatives(): SectionAlternative[] {\n\t\treturn SharedUrlAlternatives.studyAlternatives(this, \"edit\")\n\t}\n\t\n\tprivate updateSaveState(): void {\n\t\tconst study = this.getStudyOrThrow()\n\t\tthis.setDynamic(\"showSaveButton\", study.isDifferent())\n\t\tthis.setDynamic(\"showPublishButton\", study.newChanges.get())\n\t}\n\tprivate clearSaveState(): void {\n\t\tthis.setDynamic(\"showSaveButton\", false)\n\t\tthis.setDynamic(\"showPublishButton\", false)\n\t}\n\t\n\tprivate async addQuestionnaire(e: MouseEvent): Promise<void> {\n\t\tconst study = this.getStudyOrThrow()\n\t\treturn this.addDropdownMenus.addQuestionnaire(study, e.target as Element)\n\t}\n\t\n\tpublic getView(): Vnode<any, any> {\n\t\tconst disabled = !this.getStudyOrThrow().questionnaires.get().length\n\t\t\n\t\treturn DashRow(\n\t\t\tDashElement(null, {template: {title: Lang.get(\"study_description\"), icon: m.trust(studyDescSvg) }, href: this.getUrl(\"studyDesc\")}),\n\t\t\tDashElement(null,\n\t\t\t\t{floating: true, template: {title: Lang.get(\"create\"), icon: m.trust(addSvg) }, onclick: this.addQuestionnaire.bind(this)},\n\t\t\t\t{template: {title: Lang.get(\"edit_questionnaires\"), icon: m.trust(editSvg) }, href: this.getUrl(\"qEdit\")}\n\t\t\t),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"filter_and_trigger\"), icon: m.trust(alarmsSvg) }, href: this.getUrl(\"filterTrigger\"), disabled: disabled}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"calendar\"), icon: m.trust(calendarSvg) }, href: this.getUrl(\"calendar\"), disabled: disabled}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"create_charts\"), icon: m.trust(chartsSvg) }, href: this.getUrl(\"charts\"), disabled: disabled}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"calculate_sumScores\"), icon: m.trust(sumScoresSvg) }, href: this.getUrl(\"sumScores\"), disabled: disabled}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"languages_and_randomGroups\"), icon: m.trust(langSvg) }, href: this.getUrl(\"langGroups\")}),\n\t\t\tDashElement(null, {\n\t\t\t\thighlight: !this.getStudyOrThrow().published.get(),\n\t\t\t\ttemplate: {title: Lang.get(\"publish_study\"), icon: m.trust(publishSvg) }, href: this.getUrl(\"publish\")\n\t\t\t}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"reward_system\"), icon: m.trust(rewardsSvg), noCompatibilityIcon: [\"Web\"] }, href: this.getUrl(\"rewards\")}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"study_settings\"), icon: m.trust(settingsSvg) }, href: this.getUrl(\"studySettings\")}),\n\t\t\tDashElement(null, {template: {title: Lang.get(\"edit_source\") }, href: this.getUrl(\"source\")}),\n\t\t)\n\t}\n\t\n\tpublic destroy(): void {\n\t\tthis.studyObserverId.removeObserver()\n\t\tthis.clearSaveState()\n\t\tthis.section.siteData.dynamicCallbacks.save = undefined\n\t\tthis.section.siteData.dynamicCallbacks.publish = undefined\n\t\tsuper.destroy();\n\t}\n}","import m, {Vnode} from \"mithril\"\nimport {NotCompatibleIcon, PossibleDevices} from \"./NotCompatibleIcon\";\n\ntype DashTemplateOptions = {\n\ttitle: string\n\ticon?: Vnode<any, any>\n\tnoCompatibilityIcon?: PossibleDevices[]\n\tmsg?: string | Vnode<any, any>\n\tinnerLinkTitle?: string\n\tinnerLinkHref?: string\n}\n\ntype DashContainerOptions = \"stretched\" | \"cramped\" | \"vertical\" | \"horizontal\" | null\nexport type DashViewOptions = {\n\tdisabled?: boolean\n\tonclick?: (e: MouseEvent) => void\n\thref?: string\n\tshowAsClickable?: boolean\n\tfloating?: boolean\n\tfloatingRight?: boolean\n\thighlight?: boolean\n\tsmall?: boolean\n\ttemplate?: DashTemplateOptions\n\tcontent?: Vnode<any, any>\n}\n\nfunction DashTemplateView(options: DashTemplateOptions): Vnode<any, any> {\n\treturn (\n\t\t<div>\n\t\t\t{(options.icon || options.noCompatibilityIcon) &&\n\t\t\t\t<div class=\"dashIcon\">\n\t\t\t\t\t{options.icon}\n\t\t\t\t\t{options.noCompatibilityIcon && NotCompatibleIcon(... options.noCompatibilityIcon)}\n\t\t\t\t</div>\n\t\t\t}\n\t\t\t\n\t\t\t<div class=\"dashTitle\">{options.title}</div>\n\t\t\t{options.msg && <p class=\"dashMsg\">{options.msg}</p>}\n\t\t\t{options.innerLinkTitle && options.innerLinkHref && <a class=\"link\" href={options.innerLinkHref}>{options.innerLinkTitle}</a>}\n\t\t</div>\n\t)\n}\n\nfunction DashElementView(options: DashViewOptions): Vnode<any, any> {\n\tlet classString = \"dashEl\"\n\tif(options.floatingRight)\n\t\tclassString += \" floating right\"\n\telse if(options.floating)\n\t\tclassString += \" floating\"\n\t\n\tif(options.small)\n\t\tclassString += \" small\"\n\tif(options.highlight)\n\t\tclassString += \" highlight\"\n\tif(options.disabled)\n\t\tclassString += \" disabled\"\n\t\n\tlet view: Vnode<any, any>\n\tif(options.content)\n\t\tview = options.content\n\telse if(options.template)\n\t\tview = DashTemplateView(options.template)\n\telse\n\t\tview = <div class=\"highlight\">Missing Dash Information</div>\n\t\n\tif(options.href) {\n\t\treturn <a target={options.href.startsWith(\"http\") ? \"_blank\" : \"\"} class={`${classString} dashLink`} href={options.href}>{view}</a>\n\t}\n\telse if(options.onclick)\n\t\treturn <a class={`${classString} dashLink`} onclick={options.onclick}>{view}</a>\n\telse if(options.showAsClickable)\n\t\treturn <a class={`${classString} dashLink`}>{view}</a>\n\telse {\n\t\tview.attrs[\"className\"] = `${classString} ${view.attrs.hasOwnProperty(\"className\") ? view.attrs[\"className\"] : \"\"}`\n\t\treturn view\n\t}\n}\n\nfunction getNewClassString(size: DashContainerOptions, oldClassString: string): string {\n\tif(size)\n\t\toldClassString += \" \" + size\n\treturn oldClassString\n}\n\nexport function DashElement(\n\tsize: DashContainerOptions,\n\t... options: (DashViewOptions | false)[]\n): Vnode<any, any> {\n\tif(options.length == 1) {\n\t\tif(!options[0])\n\t\t\treturn <div></div>\n\t\t\n\t\tconst view =  DashElementView(options[0])\n\t\tview.attrs[\"className\"] = getNewClassString(size, view.attrs[\"className\"])\n\t\treturn view\n\t}\n\telse {\n\t\tconst classString = getNewClassString(size, \"multipleChildren\")\n\t\treturn <div class={classString}>\n\t\t\t{options.map((option) => option && DashElementView(option))}\n\t\t</div>\n\t}\n}","import m, {Vnode} from \"mithril\"\nexport function DashRow(... content: Array<Vnode<any, any> | undefined | false>): Vnode<any, any> {\n\treturn (\n\t\t<div class=\"dashRow\">{content}</div>\n\t)\n}","import m, {Vnode} from \"mithril\"\nimport {Lang} from \"../singletons/Lang\";\nimport androidSvg from \"../../imgs/devices/android.svg?raw\"\nimport iosSvg from \"../../imgs/devices/ios.svg?raw\"\nimport webSvg from \"../../imgs/devices/web.svg?raw\"\nimport {closeDropdown, openDropdown} from \"./DropdownMenu\";\n\n\nexport type PossibleDevices = \"Android\" | \"iOS\" | \"Web\"\n\nconst imageRecord: Record<PossibleDevices, string> = {\n\tAndroid: androidSvg,\n\tiOS: iosSvg,\n\tWeb: webSvg\n}\n\nfunction onPointerEnter(title: string, e: MouseEvent) {\n\topenDropdown(\"notCompatible\", e.target as HTMLElement,\n\t\t() => <div class=\"smallText center\">{title}</div>\n\t)\n}\nfunction onPointerLeave() {\n\tcloseDropdown(\"notCompatible\")\n}\n\nexport function NotCompatibleIcon(... devices: PossibleDevices[]): Vnode<any, any> {\n\tconst translationRecord: Record<PossibleDevices, string> = {\n\t\tAndroid: Lang.get(\"Android\"),\n\t\tiOS: Lang.get(\"iOS\"),\n\t\tWeb: Lang.get(\"web_questionnaire\")\n\t}\n\tconst title = Lang.get(\"not_compatible_with\", devices.map((device) => translationRecord[device]).join(\", \"))\n\treturn <div class=\"notCompatibleIcon\" onpointerenter={onPointerEnter.bind(null, title)} onpointerleave={onPointerLeave.bind(null)}>\n\t\t{devices.map((device) =>\n\t\t\t<div class=\"deviceIcon\">{m.trust(imageRecord[device])}</div>)}\n\t</div>\n\n}\n","import m, {Vnode} from \"mithril\"\nimport {Lang} from \"../singletons/Lang\";\nimport {TranslationRootInterface} from \"../observable/interfaces/TranslationRootInterface\";\n\n\nlet langNames: Record<string, string> | null = null\n\nexport function ObservableLangChooser(obs: TranslationRootInterface): Vnode<any, any> {\n\tif(obs.langCodes.get().length <= 1)\n\t\treturn <div></div>\n\telse if(langNames == null) {\n\t\timport(`../../langCodes/${Lang.code}.json`)\n\t\t\t.then((loadedLangNames) => {\n\t\t\t\tlangNames = loadedLangNames\n\t\t\t\tm.redraw()\n\t\t\t})\n\t\treturn <div></div>\n\t}\n\t\n\tconst changeLang = (langCode: string) => {\n\t\tobs.currentLangCode.set(langCode)\n\t\tm.redraw()\n\t}\n\t\n\treturn <div class=\"observableLangChooser\" title={Lang.get(\"language\")}>\n\t\t{\n\t\t\tobs.langCodes.get().map((langCode) =>\n\t\t\t\t<span\n\t\t\t\t\tclass={langCode.get() == obs.currentLangCode.get() ? \"element clickable selected\" : \"element clickable\"}\n\t\t\t\t\tonclick={() => changeLang(langCode.get())}\n\t\t\t\t>{langNames![langCode.get()] ?? langCode.get()}</span>\n\t\t\t)\n\t\t}\n\t</div>\n}","var map = {\n\t\"./de.json\": [\n\t\t5142,\n\t\t5142\n\t],\n\t\"./en.json\": [\n\t\t1294,\n\t\t1294\n\t],\n\t\"./it.json\": [\n\t\t7416,\n\t\t7416\n\t],\n\t\"./tl.json\": [\n\t\t601,\n\t\t601\n\t],\n\t\"./uk.json\": [\n\t\t6541,\n\t\t6541\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__.t(id, 3 | 16);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 6480;\nmodule.exports = webpackAsyncContext;"],"names":["studyAlternatives","sectionContent","indexName","studyId","getStudyOrThrow","id","get","depth","section","title","target","getUrl","replace","study","addDropdownMenus","AddDropdownMenus","updateSaveState","studyObserverId","addObserver","bind","siteData","dynamicCallbacks","save","this","allSections","length","loader","showLoader","studyLoader","saveStudy","publish","publishStudy","preLoad","getStudyPromise","Lang","titleExtra","langCodes","ObservableLangChooser","hasAlternatives","getAlternatives","SharedUrlAlternatives","setDynamic","isDifferent","newChanges","clearSaveState","addQuestionnaire","e","getView","disabled","questionnaires","DashRow","DashElement","template","icon","href","floating","onclick","highlight","published","noCompatibilityIcon","destroy","removeObserver","undefined","SectionContent","DashElementView","options","view","classString","floatingRight","small","content","class","msg","innerLinkTitle","innerLinkHref","DashTemplateView","startsWith","showAsClickable","attrs","hasOwnProperty","getNewClassString","size","oldClassString","map","option","imageRecord","Android","iOS","Web","onPointerEnter","onPointerLeave","NotCompatibleIcon","translationRecord","devices","device","join","onpointerenter","onpointerleave","langNames","obs","code","then","loadedLangNames","langCode","currentLangCode","set","changeLang","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","Error","ids","t","keys","Object","module","exports"],"sourceRoot":""}