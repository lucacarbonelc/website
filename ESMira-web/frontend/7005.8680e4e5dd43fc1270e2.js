"use strict";(self.webpackChunkESMira=self.webpackChunkESMira||[]).push([[7005],{7005:(t,e,n)=>{n.r(e),n.d(e,{Content:()=>h});var i,o=n(7097),r=n(4862),s=n.n(r),c=n(9700),a=n(6002),l=n(8819),u=(i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){function t(){this.rootViewOffset=0,this.errorLines=[],this.warningLines=[],this.logLines=[],this.stickyLines={}}return t.prototype.addLineContent=function(t,e,n){var i=document.createElement("span");i.style.cssText=n,i.innerText=e,t.appendChild(i)},t.prototype.clickLine=function(t,e){t.classList.contains("sticky")?(t.classList.remove("sticky"),t.style.top="0",t.style.bottom="0",delete this.stickyLines[e]):(this.stickyLines[e]=t,t.classList.add("sticky")),this.updateStickyPositions()},t.prototype.updateStickyPositions=function(){var t=-10;for(var e in this.stickyLines)(i=this.stickyLines[e]).style.top="".concat(t,"px"),t+=i.clientHeight;var n=0;for(var e in this.stickyLines){var i;n+=(i=this.stickyLines[e]).clientHeight,i.style.bottom="".concat(t-n,"px")}},t.prototype.clickLineCategory=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(i.getBoundingClientRect().top-this.rootViewOffset>0)return void i.scrollIntoView({behavior:"smooth"});t[0].scrollIntoView({behavior:"smooth"})}console.log(this.warningLines[1].getBoundingClientRect())},t.prototype.oncreate=function(t){var e=t.dom.getElementsByClassName("errorReportHeader")[0],n=t.dom.getElementsByClassName("errorReportList")[0],i=t.attrs.report.split("\n\n");this.rootViewOffset=n.getBoundingClientRect().top;for(var o=0,r=i[0].split("\n");o<r.length;o++){var s=r[o];(a=document.createElement("div")).classList.add("line"),a.innerText=s,e.appendChild(a)}for(var c=1;c<i.length;c++){var a,l=i[c].trim();(a=document.createElement("div")).classList.add("line");var u=document.createElement("pre");a.appendChild(u),l.startsWith("Error:")?(this.errorLines.push(a),this.addLineContent(u,"Error:","color: red; font-weight: bold;"),l=l.substring(6)):l.startsWith("Warning:")?(this.warningLines.push(a),this.addLineContent(u,"Warning:","color: orange;"),l=l.substring(8)):l.startsWith("Log:")?(this.logLines.push(a),this.addLineContent(u,"Log:","font-weight: bold;"),l=l.substring(4)):this.logLines.push(a),-1!=l.indexOf("Cold starting app")&&a.classList.add("divider");var p=document.createElement("span");p.innerText=l,u.appendChild(p),u.addEventListener("click",this.clickLine.bind(this,a,c)),n.appendChild(a)}},t.prototype.view=function(){return s()("div",null,(0!=this.warningLines.length||0!=this.errorLines.length)&&s()("div",{class:"errorReportInfo smallText"},s()("div",{class:"clickable",onclick:this.clickLineCategory.bind(this,this.logLines)},s()("span",null,"Logs: "),s()("span",null,this.logLines.length)),s()("div",{class:"clickable",onclick:this.clickLineCategory.bind(this,this.warningLines)},s()("span",null,"Warnings: "),s()("span",{style:"color: orange"},this.warningLines.length)),s()("div",{class:"clickable",onclick:this.clickLineCategory.bind(this,this.errorLines)},s()("span",null,"Errors: "),s()("span",{style:"color: red"},this.errorLines.length))),s()("div",{class:"errorReportHeader"}),s()("div",{class:"errorReportList"}))},t}(),h=function(t){function e(e,n){var i=t.call(this,e)||this;return i.report=n,i}return u(e,t),e.preLoad=function(t){return[a.l.loadRaw("".concat(l.Zv,"?type=GetError&timestamp=").concat(t.getStaticInt("timestamp")))]},e.prototype.title=function(){return c.J.get("errorReports")},e.prototype.getName=function(t){var e=new Date(t.timestamp).toLocaleString();return t.note?"".concat(t.note," (").concat(e,")"):e},e.prototype.getView=function(){return s()(p,{report:this.report})},e}(o.R)},7097:(t,e,n)=>{n.d(e,{R:()=>i});var i=function(){function t(t){this.section=t}return t.preLoad=function(t){return[]},t.prototype.preInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.resolve()},t.prototype.hasAlternatives=function(){return!1},t.prototype.getAlternatives=function(){return null},t.prototype.titleExtra=function(){return null},t.prototype.getDynamic=function(t,e){return this.section.getDynamic(t,e)},t.prototype.setDynamic=function(t,e){this.section.siteData.dynamicValues.setChild(t,e)},t.prototype.getStaticInt=function(t){return this.section.getStaticInt(t)},t.prototype.getStaticString=function(t){return this.section.getStaticString(t)},t.prototype.getStudyOrNull=function(t){var e,n;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var i=this.section.siteData.studyLoader.getStudies();return-1==t?1==i.getCount()&&i.getFirst()||null:null!==(n=i.getEntry(t))&&void 0!==n?n:null},t.prototype.getStudyOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var n=this.getStudyOrNull(t);if(!n)throw new Error("Study ".concat(t," does not exist!"));return n},t.prototype.getQuestionnaireOrNull=function(t,e){var n;if(void 0===t&&(t=null!==(n=this.getStaticInt("qId"))&&void 0!==n?n:-1),void 0===e&&(e=this.getStudyOrNull()),!e)return null;for(var i=0,o=this.getStudyOrThrow().questionnaires.get();i<o.length;i++){var r=o[i];if(r.internalId.get()==t)return r}return null},t.prototype.getQuestionnaireOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("qId"))&&void 0!==e?e:-1);var n=this.getQuestionnaireOrNull(t,this.getStudyOrThrow());if(n)return n;throw new Error("Questionnaire ".concat(t," does not exist!"))},t.prototype.getTools=function(){return this.section.getTools()},t.prototype.getAdmin=function(){return this.section.getAdmin()},t.prototype.hasPermission=function(t,e){var n;return this.getAdmin().isLoggedIn()&&null!==(n=this.getTools().hasPermission(t,e))&&void 0!==n&&n},t.prototype.getUrl=function(t,e){return void 0===e&&(e=this.section.depth),"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.goTo=function(t){window.location.hash="#"+t},t.prototype.newSection=function(t,e){void 0===e&&(e=this.section.depth),window.location.hash=-1==e?t:"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.destroy=function(){},t}()}}]);
//# sourceMappingURL=7005.8680e4e5dd43fc1270e2.js.map