"use strict";(self.webpackChunkESMira=self.webpackChunkESMira||[]).push([[8004],{5346:(t,e,n)=>{n.d(e,{M:()=>s});var o=n(3379),r=n(9873),i=n.n(r),s=function(){function t(){}return t.getAccessKey=function(t){var e=t.getStudyOrThrow();return t.getDynamic("accessKey",e.accessKeys.get().length?e.accessKeys.get()[0].get():"").get()},t.processView=function(t,e){var n,r,s,c;switch(t.getAttribute("js-action")){case"internalUrl":t.setAttribute("href",e.getUrl(null!==(r=null===(n=t.getAttribute("href"))||void 0===n?void 0:n.substring(1))&&void 0!==r?r:""));break;case"shown":t.classList.remove("hidden");break;case"hidden":t.classList.add("hidden");break;case"clickable":if(t.classList.add("clickable"),t.hasAttribute("click-show")){var a=document.getElementById(null!==(s=t.getAttribute("click-show"))&&void 0!==s?s:"");a&&t.addEventListener("click",(function(){a.classList.contains("hidden")?a.classList.remove("hidden"):a.classList.add("hidden")}))}break;case"qr":var u=null!==(c=e.getStaticInt("id"))&&void 0!==c?c:-1,l=(0,o.bw)(this.getAccessKey(e),u,-1!=u),d=i()(0,"L");d.addData(l),d.make();var p=d.createDataURL(6);t.src=p}},t.process=function(t,e){for(var n=0,o=t.querySelectorAll("*[js-action]");n<o.length;n++){var r=o[n];this.processView(r,e)}},t}()},8004:(t,e,n)=>{n.r(e),n.d(e,{Content:()=>h});var o,r=n(7097),i=n(4862),s=n.n(i),c=n(9700),a=n(5346),u=n(6002),l=n(8819),d=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),p=function(){function t(){}return t.prototype.oncreate=function(t){var e=t.attrs.sectionContent;try{a.M.process(t.dom,e)}catch(t){e.section.loader.error(t.message||t)}},t.prototype.view=function(t){return s()("div",null,s().trust(t.attrs.html))},t}(),h=function(t){function e(e,n){var o=t.call(this,e)||this;return n.forwarded&&o.newSection("studies:appInstall",o.section.depth-1),o.pageHtml=n.pageHtml,o.pageTitle=n.pageTitle,o}return d(e,t),e.preLoad=function(t){var e,n=t.getDynamic("accessKey","").get();return[u.l.loadJson(l.hK.replace("%d1",(null!==(e=t.getStaticInt("id"))&&void 0!==e?e:0).toString()).replace("%s1",n).replace("%s2",c.J.code)),t.getAvailableStudiesPromise(n)]},e.prototype.title=function(){return this.pageTitle},e.prototype.getView=function(){return s()(p,{html:this.pageHtml,sectionContent:this})},e}(r.R)},7097:(t,e,n)=>{n.d(e,{R:()=>o});var o=function(){function t(t){this.section=t}return t.preLoad=function(t){return[]},t.prototype.preInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.resolve()},t.prototype.hasAlternatives=function(){return!1},t.prototype.getAlternatives=function(){return null},t.prototype.titleExtra=function(){return null},t.prototype.getDynamic=function(t,e){return this.section.getDynamic(t,e)},t.prototype.setDynamic=function(t,e){this.section.siteData.dynamicValues.setChild(t,e)},t.prototype.getStaticInt=function(t){return this.section.getStaticInt(t)},t.prototype.getStaticString=function(t){return this.section.getStaticString(t)},t.prototype.getStudyOrNull=function(t){var e,n;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var o=this.section.siteData.studyLoader.getStudies();return-1==t?1==o.getCount()&&o.getFirst()||null:null!==(n=o.getEntry(t))&&void 0!==n?n:null},t.prototype.getStudyOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var n=this.getStudyOrNull(t);if(!n)throw new Error("Study ".concat(t," does not exist!"));return n},t.prototype.getQuestionnaireOrNull=function(t,e){var n;if(void 0===t&&(t=null!==(n=this.getStaticInt("qId"))&&void 0!==n?n:-1),void 0===e&&(e=this.getStudyOrNull()),!e)return null;for(var o=0,r=this.getStudyOrThrow().questionnaires.get();o<r.length;o++){var i=r[o];if(i.internalId.get()==t)return i}return null},t.prototype.getQuestionnaireOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("qId"))&&void 0!==e?e:-1);var n=this.getQuestionnaireOrNull(t,this.getStudyOrThrow());if(n)return n;throw new Error("Questionnaire ".concat(t," does not exist!"))},t.prototype.getTools=function(){return this.section.getTools()},t.prototype.getAdmin=function(){return this.section.getAdmin()},t.prototype.hasPermission=function(t,e){var n;return this.getAdmin().isLoggedIn()&&null!==(n=this.getTools().hasPermission(t,e))&&void 0!==n&&n},t.prototype.getUrl=function(t,e){return void 0===e&&(e=this.section.depth),"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.goTo=function(t){window.location.hash="#"+t},t.prototype.newSection=function(t,e){void 0===e&&(e=this.section.depth),window.location.hash=-1==e?t:"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.destroy=function(){},t}()}}]);
//# sourceMappingURL=8004.0cbabda00a8a933472d8.js.map