"use strict";(self.webpackChunkESMira=self.webpackChunkESMira||[]).push([[9525],{9525:(t,e,n)=>{n.r(e),n.d(e,{Content:()=>b});var o,r=n(7097),i=n(4862),a=n.n(i),s=n(1883),c=n(8879),u=n(9700),l=n(5617),d=n(6969),h=n(4004),p=n(6002),f=n(8819),g=n(3087),v=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),w=function(){return w=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},w.apply(this,arguments)},y=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))},m=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,o=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((r=(r=a.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=e.call(t,a)}catch(t){s=[6,t],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},b=function(t){function e(e,n){var o=t.call(this,e)||this;return o.codeResponse=null,o.currentCode=new g.H("",null,"currentRewardCode"),n.rewardCodes.sort(),n.userIdsWithRewardCode.sort(),n.userIdsWithoutRewardCode.sort(),o.rewardCodeData=n,o.currentCode.addObserver((function(){return y(o,void 0,void 0,(function(){return m(this,(function(t){switch(t.label){case 0:return[4,this.checkCode()];case 1:return t.sent(),[2]}}))}))})),o}return v(e,t),e.preLoad=function(t){var e;return[p.l.loadJson("".concat(f.Zv,"?type=GetRewardCodeData"),"post","study_id=".concat(null!==(e=t.getStaticInt("id"))&&void 0!==e?e:0)),t.getStrippedStudyListPromise()]},e.prototype.title=function(){return u.J.get("reward_codes")},e.prototype.checkCode=function(){var t;return y(this,void 0,void 0,(function(){var e,n,o,r,i;return m(this,(function(a){switch(a.label){case 0:return this.codeResponse=null,this.currentCode.get().length?(e=null!==(t=this.getStaticInt("id"))&&void 0!==t?t:0,[4,this.section.loader.loadJson("".concat(f.Zv,"?type=ValidateRewardCode"),"post","study_id=".concat(e,"&code=").concat(this.currentCode.get()))]):[2];case 1:if(n=a.sent(),this.codeResponse=n,n.faultyCode)return[2];for(i in o={},this.getStudyOrThrow().questionnaires.get().forEach((function(t){o[t.internalId.get()]=t.getTitle()})),r=[],n.questionnaireDataSetCount)n.questionnaireDataSetCount.hasOwnProperty(i)&&r.push({title:o[i],count:n.questionnaireDataSetCount[i]});return n.namedQuestionnaireDataSetCount=r,[2]}}))}))},e.prototype.selectRewardCode=function(t){this.currentCode.set(t)},e.prototype.getView=function(){var t,e=this;return a()("div",{class:"rewardCodes"},(0,d.d)(u.J.getWithColon("reward_codes")),(0,s.x)((0,c.B)(null,{content:(0,h.G)(u.J.get("generated_reward_codes",this.rewardCodeData.rewardCodes.length),this.rewardCodeData.rewardCodes.map((function(t){return{key:t,view:a()("span",{class:"line clickable verticalPadding smallText ".concat(e.currentCode.get()==t?"highlight":""),onclick:e.selectRewardCode.bind(e,t)},t)}})))}),(0,c.B)("vertical",{content:a()("div",{class:"horizontalPadding verticalPadding center"},a()("label",null,a()("small",null,u.J.get("reward_code")),a()("input",w({type:"text",class:"small ".concat(null!=this.codeResponse?(null===(t=this.codeResponse)||void 0===t?void 0:t.faultyCode)?"failed":"success":"nothing")},(0,l.Xs)(this.currentCode))),"Â ",a()("input",{class:"small",type:"button",onclick:this.checkCode.bind(this),value:u.J.get("check")})))},null!=this.codeResponse&&!this.codeResponse.faultyCode&&{content:a()("div",{class:"fadeIn"},a()("h2",{class:"spacingLeft"},u.J.getWithColon("creation_date")),a()("div",{class:"spacingLeft horizontalPadding spacingBottom"},new Date(this.codeResponse.timestamp).toLocaleString()))},null!=this.codeResponse&&!this.codeResponse.faultyCode&&{content:a()("div",{class:"fadeIn"},a()("h2",{class:"spacingLeft"},u.J.getWithColon("entries_at_creation_time")),a()("table",{class:"spacingLeft spacingBottom"},this.codeResponse.namedQuestionnaireDataSetCount.map((function(t){var e;return a()("tr",null,a()("td",{class:"horizontalPadding"},u.J.get("colon",null!==(e=t.title)&&void 0!==e?e:u.J.get("unknown"))),a()("td",{class:"horizontalPadding"},t.count))}))))})),(0,d.d)(u.J.getWithColon("participants")),(0,s.x)((0,c.B)(null,{content:(0,h.G)(u.J.get("without_reward_code",this.rewardCodeData.userIdsWithoutRewardCode.length),this.rewardCodeData.userIdsWithoutRewardCode.map((function(t){return{key:t,view:a()("span",{class:"line verticalPadding smallText"},t)}})))}),(0,c.B)(null,{content:(0,h.G)(u.J.get("with_reward_code",this.rewardCodeData.userIdsWithRewardCode.length),this.rewardCodeData.userIdsWithRewardCode.map((function(t){return{key:t,view:a()("span",{class:"line verticalPadding smallText"},t)}})))})))},e.prototype.destroy=function(){this.currentCode.removeAllConnectedObservers(),t.prototype.destroy.call(this)},e}(r.R)},7097:(t,e,n)=>{n.d(e,{R:()=>o});var o=function(){function t(t){this.section=t}return t.preLoad=function(t){return[]},t.prototype.preInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Promise.resolve()},t.prototype.hasAlternatives=function(){return!1},t.prototype.getAlternatives=function(){return null},t.prototype.titleExtra=function(){return null},t.prototype.getDynamic=function(t,e){return this.section.getDynamic(t,e)},t.prototype.setDynamic=function(t,e){this.section.siteData.dynamicValues.setChild(t,e)},t.prototype.getStaticInt=function(t){return this.section.getStaticInt(t)},t.prototype.getStaticString=function(t){return this.section.getStaticString(t)},t.prototype.getStudyOrNull=function(t){var e,n;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var o=this.section.siteData.studyLoader.getStudies();return-1==t?1==o.getCount()&&o.getFirst()||null:null!==(n=o.getEntry(t))&&void 0!==n?n:null},t.prototype.getStudyOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("id"))&&void 0!==e?e:-1);var n=this.getStudyOrNull(t);if(!n)throw new Error("Study ".concat(t," does not exist!"));return n},t.prototype.getQuestionnaireOrNull=function(t,e){var n;if(void 0===t&&(t=null!==(n=this.getStaticInt("qId"))&&void 0!==n?n:-1),void 0===e&&(e=this.getStudyOrNull()),!e)return null;for(var o=0,r=this.getStudyOrThrow().questionnaires.get();o<r.length;o++){var i=r[o];if(i.internalId.get()==t)return i}return null},t.prototype.getQuestionnaireOrThrow=function(t){var e;void 0===t&&(t=null!==(e=this.getStaticInt("qId"))&&void 0!==e?e:-1);var n=this.getQuestionnaireOrNull(t,this.getStudyOrThrow());if(n)return n;throw new Error("Questionnaire ".concat(t," does not exist!"))},t.prototype.getTools=function(){return this.section.getTools()},t.prototype.getAdmin=function(){return this.section.getAdmin()},t.prototype.hasPermission=function(t,e){var n;return this.getAdmin().isLoggedIn()&&null!==(n=this.getTools().hasPermission(t,e))&&void 0!==n&&n},t.prototype.getUrl=function(t,e){return void 0===e&&(e=this.section.depth),"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.goTo=function(t){window.location.hash="#"+t},t.prototype.newSection=function(t,e){void 0===e&&(e=this.section.depth),window.location.hash=-1==e?t:"".concat(this.section.getHash(e),"/").concat(t)},t.prototype.destroy=function(){},t}()},5617:(t,e,n)=>{n.d(e,{Me:()=>s,Ow:()=>c,WT:()=>a,Xs:()=>l,bo:()=>u});var o=n(3379),r={toAttribute:function(t){return t},toObs:function(t){return t}},i={toAttribute:function(t){return t},toObs:function(t){return parseInt(t)||0}},a=function(){function t(t){this.onBeforeChange=t}return t.prototype.toAttribute=function(t){return t},t.prototype.toObs=function(t,e){return this.onBeforeChange(e.get(),t)||t},t}(),s={toAttribute:function(t){return t?"1":"0"},toObs:function(t){return"1"==t}},c={toAttribute:function(t){var e="number"==typeof t?t:parseInt(t.toString())||0;return 0==e?"":new Date(e).toISOString().split("T")[0]},toObs:function(t){return""===t?0:new Date(t).getTime()}},u={toAttribute:function(t){var e="number"==typeof t?t:parseInt(t.toString())||0;if(-1==e)return"";var n=(0,o.V_)();return(0,o.aP)(n+e)},toObs:function(t){if(""==t)return-1;var e=t.split(":"),n=(0,o.V_)(),r=new Date;return r.setHours(parseInt(e[0])||0),r.setMinutes(parseInt(e[1])||0),r.getTime()-n}};function l(t,e,n,o){var a;void 0===o&&(o="onchange");var s=t.get();return e||(e="number"==typeof s?i:r),n||(n="boolean"==typeof s?"checked":"value"),(a={})[n]=e.toAttribute(s),a[o]=function(o){var r=o.target;t.set(e.toObs(r[n],t))},a}},8879:(t,e,n)=>{n.d(e,{B:()=>c});var o=n(4862),r=n.n(o),i=n(2202);function a(t){var e,n="dashEl";return t.floatingRight?n+=" floating right":t.floating&&(n+=" floating"),t.small&&(n+=" small"),t.highlight&&(n+=" highlight"),t.disabled&&(n+=" disabled"),e=t.content?t.content:t.template?function(t){return r()("div",null,(t.icon||t.noCompatibilityIcon)&&r()("div",{class:"dashIcon"},t.icon,t.noCompatibilityIcon&&i.z.apply(void 0,t.noCompatibilityIcon)),r()("div",{class:"dashTitle"},t.title),t.msg&&r()("p",{class:"dashMsg"},t.msg),t.innerLinkTitle&&t.innerLinkHref&&r()("a",{class:"link",href:t.innerLinkHref},t.innerLinkTitle))}(t.template):r()("div",{class:"highlight"},"Missing Dash Information"),t.href?r()("a",{target:t.href.startsWith("http")?"_blank":"",class:"".concat(n," dashLink"),href:t.href},e):t.onclick?r()("a",{class:"".concat(n," dashLink"),onclick:t.onclick},e):t.showAsClickable?r()("a",{class:"".concat(n," dashLink")},e):(e.attrs.className="".concat(n," ").concat(e.attrs.hasOwnProperty("className")?e.attrs.className:""),e)}function s(t,e){return t&&(e+=" "+t),e}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(1==e.length){if(!e[0])return r()("div",null);var o=a(e[0]);return o.attrs.className=s(t,o.attrs.className),o}var i=s(t,"multipleChildren");return r()("div",{class:i},e.map((function(t){return t&&a(t)})))}},1883:(t,e,n)=>{n.d(e,{x:()=>i});var o=n(4862),r=n.n(o);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r()("div",{class:"dashRow"},t)}},2202:(t,e,n)=>{n.d(e,{z:()=>d});var o=n(4862),r=n.n(o),i=n(9700),a=n(1844),s=n(9619),c={Android:'<svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24"><g><g><path d="M0,0h24v24H0V0z" fill="none"/></g></g><g><g><path d="M17.6,9.48l1.84-3.18c0.16-0.31,0.04-0.69-0.26-0.85c-0.29-0.15-0.65-0.06-0.83,0.22l-1.88,3.24 c-2.86-1.21-6.08-1.21-8.94,0L5.65,5.67c-0.19-0.29-0.58-0.38-0.87-0.2C4.5,5.65,4.41,6.01,4.56,6.3L6.4,9.48 C3.3,11.25,1.28,14.44,1,18h22C22.72,14.44,20.7,11.25,17.6,9.48z M7,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25S8.25,13.31,8.25,14C8.25,14.69,7.69,15.25,7,15.25z M17,15.25c-0.69,0-1.25-0.56-1.25-1.25 c0-0.69,0.56-1.25,1.25-1.25s1.25,0.56,1.25,1.25C18.25,14.69,17.69,15.25,17,15.25z"/></g></g></svg>',iOS:'<svg width="24" height="24" viewBox="0 0 170 170" xmlns="http://www.w3.org/2000/svg"><g><path d="m127.805969,90.003128c0.224838,24.213104 21.241287,32.270615 21.474121,32.373459c-0.177704,0.56826 -3.358078,11.482742 -11.072464,22.756622c-6.668747,9.746841 -13.590027,19.457977 -24.493088,19.659103c-10.713348,0.197403 -14.158287,-6.353043 -26.406677,-6.353043c-12.24469,0 -16.072174,6.151901 -26.213551,6.550446c-10.52422,0.398254 -18.538303,-10.539917 -25.26247,-20.251053c-13.740021,-19.864456 -24.24024,-56.132286 -10.1411,-80.613663c7.004152,-12.157551 19.521101,-19.85622 33.10713,-20.053638c10.334515,-0.197132 20.089069,6.952717 26.406689,6.952717c6.313614,0 18.167473,-8.59832 30.628998,-7.335548c5.21682,0.217129 19.860519,2.1073 29.263641,15.871029c-0.75766,0.469692 -17.472931,10.200527 -17.291229,30.443592m-20.134499,-59.456692c5.587379,-6.7633 9.348007,-16.178439 8.322067,-25.546439c-8.053787,0.32369 -17.792625,5.36682 -23.569427,12.126399c-5.177124,5.985922 -9.711121,15.566772 -8.48777,24.749359c8.976891,0.69453 18.147476,-4.561718 23.73513,-11.329308"/></g></svg>',Web:a};function u(t,e){(0,s.kp)("notCompatible",e.target,(function(){return r()("div",{class:"smallText center"},t)}))}function l(){(0,s.qX)("notCompatible")}function d(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={Android:i.J.get("Android"),iOS:i.J.get("iOS"),Web:i.J.get("web_questionnaire")},o=i.J.get("not_compatible_with",t.map((function(t){return n[t]})).join(", "));return r()("div",{class:"notCompatibleIcon",onpointerenter:u.bind(null,o),onpointerleave:l.bind(null)},t.map((function(t){return r()("div",{class:"deviceIcon"},r().trust(c[t]))})))}},4004:(t,e,n)=>{n.d(e,{G:()=>s});var o=n(4862),r=n.n(o),i=n(5491),a=n(9700);function s(t,e){return(0,i.p)((function(n){return r()("div",{class:"searchBox"},r()("h2",null,t),r()("input",{placeholder:a.J.get("search"),class:"search small vertical",type:"text",onkeyup:n.updateSearchFromEvent.bind(n)}),r()("div",{class:"scrollBox noBorder"},e.map((function(t){return n.searchView(t.key,t.view)}))))}))}},5491:(t,e,n)=>{n.d(e,{p:()=>a});var o=n(4862),r=n.n(o),i=function(){function t(){this.currentSearchValue=""}return t.prototype.updateSearch=function(t){this.currentSearchValue=t},t.prototype.updateSearchFromEvent=function(t){this.updateSearch(t.target.value)},t.prototype.searchView=function(t,e){return-1!=t.search(this.currentSearchValue)?e:null},t.prototype.view=function(t){var e,n,o=t.attrs.content(this);return o.attrs.className="".concat(null!==(e=t.attrs.className)&&void 0!==e?e:""," ").concat(null!==(n=o.attrs.className)&&void 0!==n?n:""),o},t}();function a(t){return r()(i,{content:t})}},6969:(t,e,n)=>{n.d(e,{d:()=>i});var o=n(4862),r=n.n(o);function i(t){var e;return"string"==typeof t?r()("div",{class:"titleRow"},r()("span",{class:"title"},t)):(t.attrs.className="titleRow ".concat(null!==(e=t.attrs.className)&&void 0!==e?e:""),t)}},1844:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/></svg>'}}]);
//# sourceMappingURL=9525.3f6df2c1f17fa7c031ef.js.map