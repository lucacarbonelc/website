{"version":3,"file":"nojs.ee5dd7878525f748ef40.js","mappings":"kCAEMA,KAAQ,ICFd,wBAgBA,QAfQ,YAAAC,UAAP,WACC,IAAMC,EAAQC,OAAOC,SAASC,KAAKH,MAAM,iDACzC,GAAY,MAATA,EAAH,CAIA,IAAMI,EAAOJ,EAAM,GACbK,EAAOL,EAAM,GACbM,EAAQN,EAAM,GACpBC,OAAOC,SAASC,KAAOC,GAAiB,mBAATC,EAA4B,YAAc,kBAAoBC,C,MAN5FC,QAAQC,MAAM,6BAOhB,EAEO,YAAAC,aAAP,WACC,SAAUR,OAAOS,UAAWT,OAAOS,QAAQC,IAC5C,EACD,EAhBA,KDGSF,gBACRX,EAAMC,Y","sources":["webpack://ESMira/./src/frontend/ts/index_nojs.ts","webpack://ESMira/./src/frontend/ts/site/CompatibilityCheck.ts"],"sourcesContent":["import {CompatibilityCheck} from \"./site/CompatibilityCheck\";\n\nconst check = new CompatibilityCheck()\nif(check.isCompatible())\n\tcheck.toggleUrl();","export class CompatibilityCheck {\n\tpublic toggleUrl(): void {\n\t\tconst match = window.location.href.match(/([^?]+\\/)(index\\.php|index_nojs\\.php|)(\\?.*|)/)\n\t\tif(match == null) {\n\t\t\tconsole.error(\"Url has unexpected format!\")\n\t\t\treturn\n\t\t}\n\t\tconst base = match[1]\n\t\tconst file = match[2]\n\t\tconst query = match[3]\n\t\twindow.location.href = base + (file === \"index_nojs.php\" ? \"index.php\" : \"index_nojs.php\") + query\n\t}\n\t\n\tpublic isCompatible(): boolean {\n\t\treturn !!(window.Promise && window.Promise.all);\n\t}\n}"],"names":["check","toggleUrl","match","window","location","href","base","file","query","console","error","isCompatible","Promise","all"],"sourceRoot":""}